{"ast":null,"code":"var _jsxFileName = \"/workspaces/Glocafe1/src/components/Home/CoffeePrices.js\";\nimport React, { useEffect, useState } from 'react';\nimport { LineChart, Line, ResponsiveContainer } from 'recharts';\n\nconst CommoditiesPrices = () => {\n  const [prices, setPrices] = useState({\n    COFFEE: null,\n    ROBUSTA: null\n  });\n  const [units, setUnits] = useState({\n    COFFEE: null,\n    ROBUSTA: null\n  });\n  const [coffeeChartData, setCoffeeChartData] = useState([]);\n  const [robustaChartData, setRobustaChartData] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const divStyle = {\n    padding: '20px',\n    margin: '10px',\n    width: '200px',\n    background: 'rgba(0,255,133,0.35)',\n    boxShadow: '20px 20px 40px -6px rgba(0,0,0,0.2)',\n    backdropFilter: 'blur(10.5px)',\n    WebkitBackdropFilter: 'blur(10.5px)',\n    borderRadius: '10px',\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    justifyContent: 'center'\n  };\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch(`https://commodities-api.com/api/latest?access_key=nc4rq9ho37s9r4m7r7bd4jaw46b940amnq40h71wcj54cbfweprfm113awf4&base=USD&symbols=COFFEE,ROBUSTA`);\n        const {\n          data\n        } = await response.json();\n        console.log(\"Latest Prices Response:\", data);\n\n        if (data && data.rates) {\n          setPrices({\n            COFFEE: data.rates.COFFEE,\n            ROBUSTA: data.rates.ROBUSTA\n          });\n\n          if (data.unit) {\n            setUnits({\n              COFFEE: data.unit.COFFEE,\n              ROBUSTA: data.unit.ROBUSTA\n            });\n          }\n        }\n      } catch (error) {\n        console.error(\"Error fetching commodities data:\", error);\n      }\n    };\n\n    const fetchTimeSeries = async symbol => {\n      const currentDate = new Date();\n      const endDate = new Date(currentDate.setDate(currentDate.getDate() - 1)).toISOString().split('T')[0];\n      const startDate = new Date(currentDate.setDate(currentDate.getDate() - 20)).toISOString().split('T')[0];\n      const response = await fetch(`https://commodities-api.com/api/timeseries?access_key=nc4rq9ho37s9r4m7r7bd4jaw46b940amnq40h71wcj54cbfweprfm113awf4&start_date=${startDate}&end_date=${endDate}&symbols=${symbol}`);\n      const data = await response.json();\n      console.log(`Raw API Response for ${symbol}:`, data);\n\n      if (data && data.data && data.data.rates) {\n        const ratesData = data.data.rates;\n        const mappedData = Object.entries(ratesData).map(([date, rates]) => ({\n          date,\n          rate: rates[symbol] ? 1 / rates[symbol] : null\n        }));\n        console.log(`Mapped data for ${symbol} before filtering:`, mappedData);\n        const transformedData = mappedData.filter(item => item.rate !== null);\n        console.log(`Final transformed data for ${symbol}:`, transformedData); // Additional log to see if any rate is null\n\n        const nullRates = mappedData.filter(item => item.rate === null);\n        console.log(`Entries with null rates for ${symbol}:`, nullRates);\n\n        if (symbol === 'COFFEE' || symbol === 'D00' && !prices.ROBUSTA) {\n          setCoffeeChartData(transformedData);\n        } else {\n          setRobustaChartData(transformedData);\n        }\n      }\n\n      return data;\n    };\n\n    fetchData();\n    Promise.all([fetchTimeSeries('COFFEE'), fetchTimeSeries('ROBUSTA').then(data => {\n      if (!data.rates) {\n        return fetchTimeSeries('D00'); // Fallback for ROBUSTA\n      }\n    })]).then(() => {\n      console.log(\"Chart Data State (Coffee): \", coffeeChartData);\n      console.log(\"Chart Data State (Robusta): \", robustaChartData);\n      setLoading(false);\n    });\n  }, []);\n  useEffect(() => {\n    console.log(\"Updated Chart Data State (Coffee): \", coffeeChartData);\n    console.log(\"Updated Chart Data State (Robusta): \", robustaChartData);\n  }, [coffeeChartData, robustaChartData]);\n\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 16\n      }\n    }, \"Loading...\");\n  }\n\n  const logCoffeeChartData = () => console.log(\"Props data for COFFEE chart:\", coffeeChartData);\n\n  const logRobustaChartData = () => console.log(\"Props data for ROBUSTA chart:\", robustaChartData);\n\n  logCoffeeChartData();\n  logRobustaChartData();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: divStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }, \"Latest Price ARABICA:\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }), prices.COFFEE && (1 / prices.COFFEE).toFixed(2), \" \", units.COFFEE, /*#__PURE__*/React.createElement(ResponsiveContainer, {\n    width: \"100%\",\n    height: 80,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(LineChart, {\n    width: 300,\n    height: 80,\n    activeDot: {\n      r: 8\n    },\n    data: coffeeChartData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Line, {\n    type: \"monotone\",\n    dataKey: \"rate\",\n    stroke: \"#8884d8\",\n    strokeWidth: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 25\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    style: divStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }\n  }, \"Latest Price ROBUSTA:\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }), prices.ROBUSTA && (1 / prices.ROBUSTA).toFixed(2), \" \", units.ROBUSTA, /*#__PURE__*/React.createElement(ResponsiveContainer, {\n    width: \"100%\",\n    height: 80,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(LineChart, {\n    width: 300,\n    height: 80,\n    data: robustaChartData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Line, {\n    type: \"monotone\",\n    dataKey: \"rate\",\n    stroke: \"#82ca9d\",\n    strokeWidth: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }\n  })))));\n};\n\nexport default CommoditiesPrices;","map":{"version":3,"sources":["/workspaces/Glocafe1/src/components/Home/CoffeePrices.js"],"names":["React","useEffect","useState","LineChart","Line","ResponsiveContainer","CommoditiesPrices","prices","setPrices","COFFEE","ROBUSTA","units","setUnits","coffeeChartData","setCoffeeChartData","robustaChartData","setRobustaChartData","loading","setLoading","divStyle","padding","margin","width","background","boxShadow","backdropFilter","WebkitBackdropFilter","borderRadius","display","flexDirection","alignItems","justifyContent","fetchData","response","fetch","data","json","console","log","rates","unit","error","fetchTimeSeries","symbol","currentDate","Date","endDate","setDate","getDate","toISOString","split","startDate","ratesData","mappedData","Object","entries","map","date","rate","transformedData","filter","item","nullRates","Promise","all","then","logCoffeeChartData","logRobustaChartData","toFixed","r"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { LineChart, Line, ResponsiveContainer } from 'recharts';\n\nconst CommoditiesPrices = () => {\n    const [prices, setPrices] = useState({ COFFEE: null, ROBUSTA: null });\n    const [units, setUnits] = useState({ COFFEE: null, ROBUSTA: null });\n    const [coffeeChartData, setCoffeeChartData] = useState([]);\n    const [robustaChartData, setRobustaChartData] = useState([]);\n    const [loading, setLoading] = useState(true);\n\n    const divStyle = {\n        padding: '20px',\n        margin: '10px',\n        width: '200px',\n        background: 'rgba(0,255,133,0.35)',\n        boxShadow: '20px 20px 40px -6px rgba(0,0,0,0.2)',\n        backdropFilter: 'blur(10.5px)',\n        WebkitBackdropFilter: 'blur(10.5px)',\n        borderRadius: '10px',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center'\n    };\n\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const response = await fetch(`https://commodities-api.com/api/latest?access_key=nc4rq9ho37s9r4m7r7bd4jaw46b940amnq40h71wcj54cbfweprfm113awf4&base=USD&symbols=COFFEE,ROBUSTA`);\n                const { data } = await response.json();\n\n                console.log(\"Latest Prices Response:\", data);\n\n                if (data && data.rates) {\n                    setPrices({ COFFEE: data.rates.COFFEE, ROBUSTA: data.rates.ROBUSTA });\n                    if (data.unit) {\n                        setUnits({ COFFEE: data.unit.COFFEE, ROBUSTA: data.unit.ROBUSTA });\n                    }\n                }\n            } catch (error) {\n                console.error(\"Error fetching commodities data:\", error);\n            }\n        };\n\n        const fetchTimeSeries = async (symbol) => {\n            const currentDate = new Date();\n            const endDate = new Date(currentDate.setDate(currentDate.getDate() - 1)).toISOString().split('T')[0];\n            const startDate = new Date(currentDate.setDate(currentDate.getDate() - 20)).toISOString().split('T')[0];\n            \n            const response = await fetch(`https://commodities-api.com/api/timeseries?access_key=nc4rq9ho37s9r4m7r7bd4jaw46b940amnq40h71wcj54cbfweprfm113awf4&start_date=${startDate}&end_date=${endDate}&symbols=${symbol}`);\n            const data = await response.json();\n        \n            console.log(`Raw API Response for ${symbol}:`, data);\n        \n            if (data && data.data && data.data.rates) {\n                const ratesData = data.data.rates;\n                const mappedData = Object.entries(ratesData).map(([date, rates]) => ({\n                    date,\n                    rate: rates[symbol] ? 1 / rates[symbol] : null\n                }));\n                \n                console.log(`Mapped data for ${symbol} before filtering:`, mappedData);\n                \n                const transformedData = mappedData.filter(item => item.rate !== null);\n                console.log(`Final transformed data for ${symbol}:`, transformedData);\n            \n                // Additional log to see if any rate is null\n                const nullRates = mappedData.filter(item => item.rate === null);\n                console.log(`Entries with null rates for ${symbol}:`, nullRates);\n                \n                if (symbol === 'COFFEE' || (symbol === 'D00' && !prices.ROBUSTA)) {\n                    setCoffeeChartData(transformedData);\n                } else {\n                    setRobustaChartData(transformedData);\n                }\n            \n            }\n            return data; \n        };\n        \n\n        fetchData();\n\n        Promise.all([\n            fetchTimeSeries('COFFEE'),\n            fetchTimeSeries('ROBUSTA').then(data => {\n                if (!data.rates) {\n                    return fetchTimeSeries('D00'); // Fallback for ROBUSTA\n                }\n            })\n        ]).then(() => {\n            console.log(\"Chart Data State (Coffee): \", coffeeChartData);\n            console.log(\"Chart Data State (Robusta): \", robustaChartData);\n            setLoading(false);\n        });\n    }, []);\n\n    useEffect(() => {\n        console.log(\"Updated Chart Data State (Coffee): \", coffeeChartData);\n        console.log(\"Updated Chart Data State (Robusta): \", robustaChartData);\n    }, [coffeeChartData, robustaChartData]);\n    \n    if (loading) {\n        return <div>Loading...</div>;\n    }\n\n    const logCoffeeChartData = () => console.log(\"Props data for COFFEE chart:\", coffeeChartData);\n    const logRobustaChartData = () => console.log(\"Props data for ROBUSTA chart:\", robustaChartData);\n    \n    logCoffeeChartData();\n    logRobustaChartData();\n    \n    return (\n        <div style={{ display: 'flex', justifyContent: 'center' }}>\n            <div style={divStyle}>\n                Latest Price ARABICA: \n                <br />\n                {prices.COFFEE && (1 / prices.COFFEE).toFixed(2)} {units.COFFEE}\n                <ResponsiveContainer width=\"100%\" height={80}>\n                    <LineChart width={300} height={80} activeDot={{ r: 8 }} data={coffeeChartData}>\n                        <Line type=\"monotone\" dataKey=\"rate\" stroke=\"#8884d8\" strokeWidth={2} />\n                    </LineChart>\n                </ResponsiveContainer>\n            </div>\n            <div style={divStyle}>\n                Latest Price ROBUSTA: \n                <br />\n                {prices.ROBUSTA && (1 / prices.ROBUSTA).toFixed(2)} {units.ROBUSTA}\n                <ResponsiveContainer width=\"100%\" height={80}>\n                    <LineChart width={300} height={80} data={robustaChartData}>\n                        <Line type=\"monotone\" dataKey=\"rate\" stroke=\"#82ca9d\" strokeWidth={2} />\n                    </LineChart>\n                </ResponsiveContainer>\n            </div>\n        </div>\n    );\n};\n\nexport default CommoditiesPrices;"]},"metadata":{},"sourceType":"module"}